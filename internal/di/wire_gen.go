// Code generated by Wire. DO NOT EDIT.

//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject

package di

import (
	"backend/config"
	"backend/internal/application"
	"backend/internal/client"
	"backend/internal/delivery/http"
	"backend/internal/domain"
	"backend/internal/infrastructure/cacheredis"
	"backend/internal/infrastructure/repository"
	"backend/internal/service"
	"backend/pkg/logger"
	"context"
	"github.com/google/wire"
)

// Injectors from wire.go:

func InitializeServer(ctx context.Context) *http.Server {
	engine := client.NewGin()
	server := config.NewServer()
	goCloak := client.NewKeycloak(ctx, server)
	redisClient := client.NewRedis(ctx, server)
	s3Client := client.NewS3(ctx, server)
	pool := client.NewDBConnection(ctx, server)
	healthHandlerImpl := http.ProvideHealthHandler(goCloak, redisClient, s3Client, pool, server)
	metricMiddlewareImpl := http.ProvideMetricMiddleware()
	loggerConfig := logger.NewConfig(server)
	zapLogger := logger.New(loggerConfig)
	loggingMiddlewareImpl := http.ProvideLoggingMiddleware(zapLogger)
	ginAuthMiddleware := http.ProvideAuthMiddleware(goCloak, server)
	queries := client.NewDBQueries(pool)
	postgresCategory := repository.ProvidePostgresCategory(queries)
	validate := client.NewValidate()
	category := service.ProvideCategory(validate)
	categoryCache := cacheredis.ProvideCategoryCache(redisClient)
	categoryImpl := application.ProvideCategory(postgresCategory, category, categoryCache)
	categoryHandlerImpl := http.ProvideCategoryHandler(categoryImpl)
	productHandlerImpl := http.ProvideProductHandler()
	postgresAttribute := repository.ProvidePostgresAttribute(queries, pool)
	attribute := service.ProvideAttribute(validate)
	attributeCache := cacheredis.ProvideAttributeCache(redisClient)
	attributeImpl := application.ProvideAttribute(postgresAttribute, attribute, attributeCache)
	attributeHandlerImpl := http.ProvideAttributeHandler(attributeImpl)
	postgresOrder := repository.ProvidePostgresOrder(queries)
	order := service.ProvideOrder(validate)
	orderImpl := application.ProvideOrder(postgresOrder, order)
	orderHandlerImpl := http.ProvideOrderHandler(orderImpl)
	postgresReview := repository.ProvidePostgresReview(queries)
	review := service.ProvideReview(validate)
	reviewCache := cacheredis.ProvideReviewCache(redisClient)
	reviewImpl := application.ProvideReview(postgresReview, review, reviewCache)
	reviewHandlerImpl := http.ProvideReviewHandler(reviewImpl)
	postgresCart := repository.ProvidePostgresCart(queries)
	cart := service.ProvideCart(validate)
	cartImpl := application.ProvideCart(postgresCart, cart)
	cartHandlerImpl := http.ProvideCartHandler(cartImpl)
	ginRouter := http.ProvideRouter(healthHandlerImpl, metricMiddlewareImpl, loggingMiddlewareImpl, ginAuthMiddleware, categoryHandlerImpl, productHandlerImpl, attributeHandlerImpl, orderHandlerImpl, reviewHandlerImpl, cartHandlerImpl)
	authHandlerImpl := http.ProvideAuthHandler(server)
	httpServer := http.NewServer(engine, ginRouter, server, authHandlerImpl)
	return httpServer
}

// wire.go:

var ConfigSet = wire.NewSet(config.NewServer, logger.NewConfig)

var LoggerSet = wire.NewSet(logger.New)

var DbSet = wire.NewSet(client.NewDBConnection, client.NewDBQueries, client.NewDBTransactor)

var EngineSet = wire.NewSet(client.NewGin)

var ServiceSet = wire.NewSet(service.ProvideAttribute, wire.Bind(
	new(domain.AttributeService),
	new(*service.Attribute),
), service.ProvideCart, wire.Bind(
	new(domain.CartService),
	new(*service.Cart),
), service.ProvideCategory, wire.Bind(
	new(domain.CategoryService),
	new(*service.Category),
), service.ProvideOrder, wire.Bind(
	new(domain.OrderService),
	new(*service.Order),
), service.ProvideProduct, wire.Bind(
	new(domain.ProductService),
	new(*service.Product),
), service.ProvideReview, wire.Bind(
	new(domain.ReviewService),
	new(*service.Review),
),
)

var MiddlewareSet = wire.NewSet(http.ProvideAuthMiddleware, wire.Bind(
	new(http.AuthMiddleware),
	new(*http.GinAuthMiddleware),
), http.ProvideLoggingMiddleware, wire.Bind(
	new(http.LoggingMiddleware),
	new(*http.LoggingMiddlewareImpl),
), http.ProvideMetricMiddleware, wire.Bind(
	new(http.MetricMiddleware),
	new(*http.MetricMiddlewareImpl),
), http.ProvideRoleMiddleware, wire.Bind(
	new(http.RoleMiddleware),
	new(*http.RoleMiddlewareImpl),
),
)

var HandlerSet = wire.NewSet(http.ProvideAttributeHandler, wire.Bind(
	new(http.AttributeHandler),
	new(*http.AttributeHandlerImpl),
), http.ProvideAuthHandler, wire.Bind(
	new(http.AuthHandler),
	new(*http.AuthHandlerImpl),
), http.ProvideCategoryHandler, wire.Bind(
	new(http.CategoryHandler),
	new(*http.CategoryHandlerImpl),
), http.ProvideHealthHandler, wire.Bind(
	new(http.HealthHandler),
	new(*http.HealthHandlerImpl),
), http.ProvideOrderHandler, wire.Bind(
	new(http.OrderHandler),
	new(*http.OrderHandlerImpl),
), http.ProvideProductHandler, wire.Bind(
	new(http.ProductHandler),
	new(*http.ProductHandlerImpl),
), http.ProvideReviewHandler, wire.Bind(
	new(http.ReviewHandler),
	new(*http.ReviewHandlerImpl),
), http.ProvideCartHandler, wire.Bind(
	new(http.CartHandler),
	new(*http.CartHandlerImpl),
),
)

var ApplicationSet = wire.NewSet(application.ProvideAttribute, wire.Bind(
	new(application.Attribute),
	new(*application.AttributeImpl),
), application.ProvideCart, wire.Bind(
	new(application.Cart),
	new(*application.CartImpl),
), application.ProvideCategory, wire.Bind(
	new(application.Category),
	new(*application.CategoryImpl),
), application.ProvideOrder, wire.Bind(
	new(application.Order),
	new(*application.OrderImpl),
), application.ProvideProduct, wire.Bind(
	new(application.Product),
	new(*application.ProductImpl),
), application.ProvideReview, wire.Bind(
	new(application.Review),
	new(*application.ReviewImpl),
),
)

var RepositorySet = wire.NewSet(repository.ProvidePostgresAttribute, wire.Bind(
	new(domain.AttributeRepository),
	new(*repository.PostgresAttribute),
), repository.ProvidePostgresCart, wire.Bind(
	new(domain.CartRepository),
	new(*repository.PostgresCart),
), repository.ProvidePostgresCategory, wire.Bind(
	new(domain.CategoryRepository),
	new(*repository.PostgresCategory),
), repository.ProvidePostgresOrder, wire.Bind(
	new(domain.OrderRepository),
	new(*repository.PostgresOrder),
), repository.ProvidePostgresProduct, wire.Bind(
	new(domain.ProductRepository),
	new(*repository.PostgresProduct),
), repository.ProvidePostgresReview, wire.Bind(
	new(domain.ReviewRepository),
	new(*repository.PostgresReview),
),
)

var RouterSet = wire.NewSet(http.ProvideRouter, wire.Bind(
	new(http.Router),
	new(*http.GinRouter),
),
)

var ClientSet = wire.NewSet(client.NewRedis, client.NewS3, client.NewKeycloak, client.NewS3Presign, client.NewValidate)

var CacheSet = wire.NewSet(cacheredis.ProvideProductCache, wire.Bind(
	new(application.ProductCache),
	new(*cacheredis.ProductCache),
), cacheredis.ProvideReviewCache, wire.Bind(
	new(application.ReviewCache),
	new(*cacheredis.ReviewCache),
), cacheredis.ProvideCategoryCache, wire.Bind(
	new(application.CategoryCache),
	new(*cacheredis.CategoryCache),
), cacheredis.ProvideAttributeCache, wire.Bind(
	new(application.AttributeCache),
	new(*cacheredis.AttributeCache),
),
)
