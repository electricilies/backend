# Cart Application - Blackbox Testing Report

### Meta

- Precondition:
  - Container database: up, seeded (with product, variant, and cart data)
  - Container redis: up

| Pass | Fail | Untested | N/A | Number of Test cases |
| ---- | ---- | -------- | --- | -------------------- |
| 30   | 1    | 0        | 0   | 31                   |

### Sheet

| #   | ID       | Test Case Description                                        | Test Case Procedure                                                                                                       | Expected Output                                                                                                      | Inter-test case Dependence | Result   | Test date | Test data                                                                                                                | Note |
| --- | -------- | ------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------- | -------------------------- | -------- | --------- | ------------------------------------------------------------------------------------------------------------------------ | ---- |
| -   |          | **TestCartLifecycle**                                        |                                                                                                                           |                                                                                                                      |                            |          |           |                                                                                                                          |      |
| 1   | CA-CL-01 | Create cart for new user                                     | - Create cart with new user ID                                                                                            | - Cart successfully created<br/>- Cart has correct user ID<br/>- Items list is empty<br/>- ID is not null            |                            | Pass     | 11-Dec-2025 | - UserID: new UUID                                                                                                       |      |
| 2   | CA-CL-02 | Get cart by ID (cache miss)                                  | - Get cart by ID from previous test                                                                                       | - Cart retrieved successfully<br/>- All fields match created cart<br/>- Items list is empty                          | CA-CL-01                   | Pass     | 11-Dec-2025 | - CartID: from CA-CL-01                                                                                                  |      |
| 3   | CA-CL-03 | Get cart by ID (cache hit)                                   | - Get cart by same ID twice<br/>- Verify both requests return identical data                                              | - Both requests succeed<br/>- Both results match<br/>- Second request uses cache                                     | CA-CL-01                   | Pass     | 11-Dec-2025 | - CartID: from CA-CL-01                                                                                                  |      |
| 4   | CA-CL-04 | Get cart by user ID                                          | - Get cart by user ID                                                                                                     | - Cart retrieved successfully<br/>- Cart ID matches created cart<br/>- User ID matches                               | CA-CL-01                   | Pass     | 11-Dec-2025 | - UserID: from CA-CL-01                                                                                                  |      |
| 5   | CA-CL-05 | Add item to cart                                             | - Add item to cart with product variant and quantity                                                                      | - Item successfully added<br/>- Quantity is correct<br/>- Product and variant details populated<br/>- Item ID exists | CA-CL-01                   | Pass     | 11-Dec-2025 | - CartID: from CA-CL-01<br/>- ProductID: seeded<br/>- VariantID: seeded<br/>- Quantity: 2                               |      |
| 6   | CA-CL-06 | Get cart after adding item                                   | - Get cart by ID after item added                                                                                         | - Cart has 1 item<br/>- Item details match<br/>- Quantity is correct                                                 | CA-CL-05                   | Pass     | 11-Dec-2025 | - CartID: from CA-CL-01                                                                                                  |      |
| 7   | CA-CL-07 | Add same item again (upsert - quantity increases)            | - Add same item with additional quantity                                                                                  | - Quantity increases (adds to existing)<br/>- Item ID remains same<br/>- Total quantity is sum                       | CA-CL-05                   | Pass     | 11-Dec-2025 | - CartID: from CA-CL-01<br/>- ProductID: same as CA-CL-05<br/>- VariantID: same as CA-CL-05<br/>- Quantity: 3           |      |
| 8   | CA-CL-08 | Update item quantity                                         | - Update item quantity to new value                                                                                       | - Item successfully updated<br/>- Quantity changed to new value<br/>- Item ID remains same                           | CA-CL-05                   | Pass     | 11-Dec-2025 | - CartID: from CA-CL-01<br/>- ItemID: from CA-CL-05<br/>- Quantity: 10                                                  |      |
| 9   | CA-CL-09 | Cache is invalidated after update                            | - Get cart to populate cache<br/>- Update item<br/>- Get cart again                                                       | - Update succeeds<br/>- Second get returns updated quantity<br/>- Cache properly invalidated                         | CA-CL-08                   | Pass     | 11-Dec-2025 | - CartID: from CA-CL-01                                                                                                  |      |
| 10  | CA-CL-10 | Delete item from cart                                        | - Delete item from cart<br/>- Get cart to verify item removed                                                             | - Delete succeeds<br/>- Cart items list is empty                                                                     | CA-CL-05                   | Fail     | 11-Dec-2025 | - CartID: from CA-CL-01<br/>- ItemID: from CA-CL-05                                                                      | See DF-CA-DI-01 |
| -   |          | **TestCartSecurityCases**                                    |                                                                                                                           |                                                                                                                      |                            |          |           |                                                                                                                          |      |
| 11  | CA-SC-01 | Security: Try to create item in another user's cart fails   | - Create cart for user A<br/>- Add item to cart<br/>- Try to create item as user B                                        | - Operation fails with Forbidden error<br/>- Original cart unchanged                                                 |                            | Pass     | 11-Dec-2025 | - UserA ID: new UUID<br/>- UserB ID: new UUID<br/>- ProductID: seeded<br/>- VariantID: seeded<br/>- Quantity: 1         |      |
| 12  | CA-SC-02 | Security: Try to update another user's cart item fails      | - Create cart with item for user A<br/>- Try to update item as user B                                                     | - Operation fails with Forbidden error<br/>- Original item unchanged                                                 |                            | Pass     | 11-Dec-2025 | - UserA ID: new UUID<br/>- UserB ID: new UUID<br/>- Quantity: 100                                                       |      |
| 13  | CA-SC-03 | Security: Try to delete from another user's cart fails      | - Create cart with item for user A<br/>- Try to delete item as user B                                                     | - Operation fails with Forbidden error<br/>- Original item unchanged                                                 |                            | Pass     | 11-Dec-2025 | - UserA ID: new UUID<br/>- UserB ID: new UUID                                                                            |      |
| -   |          | **TestCartErrorCases**                                       |                                                                                                                           |                                                                                                                      |                            |          |           |                                                                                                                          |      |
| 14  | CA-EC-01 | Get non-existent cart fails                                  | - Attempt to get cart with ID that does not exist                                                                         | - Operation fails with error<br/>- Error indicates cart not found                                                    |                            | Pass     | 11-Dec-2025 | - CartID: `00000000-0000-0000-0000-000000000001`                                                                         |      |
| 15  | CA-EC-02 | Add item to non-existent cart fails                          | - Attempt to add item to cart that does not exist                                                                         | - Operation fails with error<br/>- Error indicates cart not found                                                    |                            | Pass     | 11-Dec-2025 | - CartID: `00000000-0000-0000-0000-000000000001`<br/>- ProductID: seeded<br/>- VariantID: seeded<br/>- Quantity: 1      |      |
| 16  | CA-EC-03 | Update non-existent item fails                               | - Create cart<br/>- Attempt to update item with ID that does not exist                                                    | - Operation fails with error<br/>- Error indicates item not found                                                    |                            | Pass     | 11-Dec-2025 | - CartID: valid cart<br/>- ItemID: `00000000-0000-0000-0000-000000000001`<br/>- Quantity: 5                             |      |
| 17  | CA-EC-04 | Add item with invalid product fails                          | - Create cart<br/>- Attempt to add item with product ID that does not exist                                               | - Operation fails with error<br/>- Error indicates product not found                                                 |                            | Pass     | 11-Dec-2025 | - CartID: valid cart<br/>- ProductID: `00000000-0000-0000-0000-000000000001`<br/>- VariantID: non-existent<br/>- Qty: 1 |      |
| -   |          | **TestCartValidation**                                       |                                                                                                                           |                                                                                                                      |                            |          |           |                                                                                                                          |      |
| 18  | CA-VA-01 | Validation: Quantity must be positive                        | - Create cart with item<br/>- Attempt to update item with negative quantity                                               | - Operation fails with error<br/>- Error indicates validation failure                                                |                            | Pass     | 11-Dec-2025 | - CartID: valid cart<br/>- ItemID: valid item<br/>- Quantity: -1                                                        |      |
| 19  | CA-VA-02 | Validation: Quantity exceeds max (100)                       | - Create cart<br/>- Attempt to add item with quantity greater than 100                                                    | - Operation fails with error<br/>- Error indicates validation failure                                                |                            | Pass     | 11-Dec-2025 | - CartID: valid cart<br/>- ProductID: seeded<br/>- VariantID: seeded<br/>- Quantity: 101                                |      |
| -   |          | **TestCartWithMultipleItems**                                |                                                                                                                           |                                                                                                                      |                            |          |           |                                                                                                                          |      |
| 20  | CA-MI-01 | Add second different variant to test multiple items         | - Create cart<br/>- Add first item with variant A<br/>- Add second item with variant B<br/>- Get cart to verify          | - Cart contains 2 items<br/>- Both items have correct variants<br/>- Quantities are correct                          |                            | Pass     | 11-Dec-2025 | - CartID: new cart<br/>- Item 1: VariantID A, Qty: 3<br/>- Item 2: VariantID B, Qty: 2                                  |      |
| -   |          | **TestSeededCartAccess**                                     |                                                                                                                           |                                                                                                                      |                            |          |           |                                                                                                                          |      |
| 21  | CA-SD-01 | Test with seeded cart and items                              | - Get seeded cart by ID<br/>- Verify cart has items<br/>- Verify all item fields populated                                | - Cart retrieved successfully<br/>- Cart has items<br/>- All product and variant details populated                   |                            | Pass     | 11-Dec-2025 | - CartID: `00000000-0000-7000-0000-000000000001`<br/>- UserID: `00000000-0000-7000-0000-000000000003`                   |      |

